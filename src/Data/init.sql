DROP TABLE IF EXISTS PlayerGame;
DROP TABLE IF EXISTS Game;
DROP TABLE IF EXISTS Player;


CREATE TABLE Player (
    ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(20) NOT NULL UNIQUE ,
    SCORE_TOT int DEFAULT 0
);

CREATE TABLE Game (
    ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    BOARD JSON NOT NULL,
    CURRENT_PLAYER_INDEX INT NOT NULL,
    LETTER_BAG JSON NOT NULL,
    IS_ACTIVE BOOLEAN DEFAULT 1
);

CREATE TABLE PlayerGame (
    PLAYER_ID INT NOT NULL ,
    GAME_ID INT NOT NULL,
    PLAYER_INDEX INT NOT NULL,
    SCORE INT DEFAULT 0,
    CHEVALET JSON NOT NULL,
    FOREIGN KEY (PLAYER_ID) REFERENCES Player(ID),
    FOREIGN KEY (GAME_ID) REFERENCES Game(ID)
);
